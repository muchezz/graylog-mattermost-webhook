# Graylog Webhook Configuration
# Supports both Slack and Mattermost

server:
  listen_addr: "0.0.0.0:8080"
  log_level: "info"

destination:
  # Platform: "slack" or "mattermost"
  platform: "mattermost"
  
  # Required: Incoming webhook URL
  # Slack: https://hooks.slack.com/services/YOUR/WEBHOOK/URL
  # Mattermost: https://mattermost.example.com/hooks/xxx
  webhook_url: "https://mattermost.example.com/hooks/xxx"
  
  # Bot username that appears in Slack/Mattermost
  username: "Graylog"
  
  # Bot icon (emoji preferred)
  icon_emoji: ":clipboard:"
  # icon_url: "https://example.com/icon.png"
  
  # Default channel for alerts
  channel: "#alerts"
  
  # Optional: Route alerts by severity to different channels
  # Graylog severity levels:
  #   0 = Emergency/Critical
  #   1 = Alert
  #   2 = Error/Critical
  #   3 = Warning
  #   4 = Notice
  #   5 = Informational
  #   6 = Debug
  destinations:
    "0": "#critical-alerts"      # Emergency → #critical
    "1": "#critical-alerts"      # Alert → #critical
    "2": "#error-alerts"         # Error → #errors
    "3": "#warning-alerts"       # Warning → #warnings
    "4": "#info-alerts"          # Notice/Info → #info
    "5": "#info-alerts"          # Info → #info
    "6": "#debug-alerts"         # Debug → #debug

# ============================================================================
# SLACK EXAMPLE
# ============================================================================
# 
# 1. Create Slack App at https://api.slack.com/apps
# 2. Enable Incoming Webhooks
# 3. Create New Webhook to Workspace
# 4. Copy the webhook URL
# 5. Set in config:
#
# destination:
#   platform: "slack"
#   webhook_url: "https://hooks.slack.com/services/YOUR/WEBHOOK/URL"
#   channel: "#alerts"
#
# ============================================================================
# MATTERMOST EXAMPLE
# ============================================================================
#
# 1. Go to System Settings → Integrations → Incoming Webhooks
# 2. Create New Incoming Webhook
# 3. Select channel and copy webhook URL
# 4. Set in config:
#
# destination:
#   platform: "mattermost"
#   webhook_url: "https://mattermost.example.com/hooks/xxx"
#   channel: "#alerts"
